<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mina Data</title>
    <link rel="stylesheet" href="styles.css">
    <script src="minaData.js"></script>
</head>
<body>
    <script>

    </script>
    <div id="events"></div>
    <div>---</div>
    <div id="result"></div>
    <script>
        async function main() {
            let debug = true
            debug ? console.log( 'Mina Data' ) : ''
            const minaData = new MinaData( debug )
            minaData.init()

            minaData.addEventListener(
                'status', 
                ( event ) => { 
                    console.log( `Event: ${event.detail}` ) 
                    const eventElement = document.getElementById( 'events' )
                    eventElement.innerHTML += `<p>Event: ${event.detail}</p>`

                    if( event.detail.indexOf( 'success') !== -1 ) {
                        const resultElement = document.getElementById( 'result' )
                        resultElement.innerHTML += `<p>SUCCESS</p>`
                    }
                }
            )
            
            minaData.getData()
            // minaData.getData()
            // minaData.getData()

            return true
        }

        main()
            .then( a => console.log( a ) )
    </script>
</body>
</html>
